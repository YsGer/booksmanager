<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>侧边垂直导航 - Layui</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
  <link href="../layui/css/layui.css" rel="stylesheet">
  <link rel="stylesheet" href="../css/elemetui.css">
  <script src="../js/vue.js"></script>
  <script src="../js/elementui.js"></script>
  <link rel="stylesheet" href="./css/index.css">
  <style>
    *{
        margin: 0;
        padding: 0;
    }
    .my_avator{

    }
    .my_avator:hover{
        cursor: pointer;
    }
  </style>
</head>
<body>
    <div id="app">
            <div>
                <button id="hiddenOrshow" style= "z-index: 999;float: left ;position: fixed; top:10px; left: 10px; background-color: red;" >显示侧边</button>
            </div>
        
        <div style="z-index: 2; background-color: white;" class="content_menu" id="sidebar" >
            <ul class="layui-nav layui-nav-tree layui-nav-side" style="width: 10%; min-width: 150px;">
                <li class="layui-nav-item layui-nav-itemed">
                    <a href="javascript:;">默认展开</a>
                    <dl class="layui-nav-child">
                    <dd><a href="./test.html" target="test">管理员页面1</a></dd>
                    <dd><a href="./manager.html" target="test">员工管理</a></dd>
                    <dd><a href="./user/detail.html" target="test">访问情况统计</a></dd>
                    </dl>
                </li>
        
        
                <li class="layui-nav-item"><a href="javascript:;">分类管理</a>
                    <dl class="layui-nav-child">
                        <dd><a href="./question.html" target="test">分类详情</a></dd>
                        <dd><a href="./question category.html" target="test">添加分类</a></dd>
                        <dd><a href="javascript:;">删除分类</a></dd>
                        </dl>
                
                </li>
                
                <li class="layui-nav-item"><a href="javascript:;">用户管理</a>
                    <dl class="layui-nav-child">
                        <dd><a href="./user/userdetail.html" target="test">用户详情</a></dd>
                        <dd><a href="./question category.html" target="test">用户组管理</a></dd>
                        <dd><a href="javascript:;">删除分类</a></dd>
                        </dl>
                
                </li>
                <li class="layui-nav-item"><a href="./user/index.html" target="test">个人中心</a><dl class="layui-nav-child">
                    <dd><a href="./user/userpwdmodify.html" target="test">修改密码</a></dd>
                    <dd><a href="javascript:;">添加分类</a></dd>
                    <dd><a href="javascript:;">删除分类</a></dd>
                </dl></li>
                
        </div>
        <div class="content_container" style="background-color: white; width: 90%; height: 100%;">
        
            <div>
                <a href="./index.html" style="background-color: skyblue;margin-left: 50px; margin-top: 20px; display: inline-block;"><h1>首页</h1></a>
                <div style="float:right; background-color: white; height: 50px;" >
                    <a href="./user/index.html" target="test">个人中心</a>
                    <img id="my_avator" class="my_avator" src="../img/avator.jpg" alt="" width="50" >
                </div>
            </div>
            <iframe src="./user/detail.html" name="test" frameborder="0" width="100%" style="height: calc(100vh);"></iframe>
        
        </div>
    </div>

<script src="../layui/layui.js"></script>
<script>
layui.use(function(){
  var element = layui.element;
  element.render('nav');
});


//获取idwei my_avator的元素
let my_avator = document.getElementById('my_avator');
//当鼠标移动到my_avator上时，动态添加一个div元素并显示，当鼠标移出时，删除该div元素
my_avator.onmouseover = function(){
    let div = document.createElement('div');
    div.style.width = '100px';
    div.style.height = '100px';
    div.style.backgroundColor = '#f0f0f0';
    div.style.position = 'absolute';
    div.style.top = '50px';
    div.style.right = '0';
    div.style.zIndex = '999';
    div.innerHTML = '<p style="color:red;">当前用户:test,当前用户权限:管理员</p>';
    document.body.appendChild(div);
    my_avator.onmouseout = function(){
        document.body.removeChild(div);
    }
}

//我要一个背景颜色为浅灰色的十六进制值
let color = '#f0f0f0';



let sidebar = document.getElementById('sidebar');
let hiddenOrshow = document.getElementById('hiddenOrshow');
let flag = true;
hiddenOrshow.onclick = function(){
    if(flag){
        sidebar.style.display = 'none';
        flag = false;
    }else{
        sidebar.style.display = 'block';
        flag = true;
    }
}

</script>
<script>
    localStorage.getItem('admin')
    if(localStorage.getItem('admin') == null){
        window.location.href = './login.html'
    }
</script>
<script>

    new Vue({
        el: '#app',
        data: {
            message: 'Hello Vue!',
            currentLogin:{}
        },
        mouted(){
            this.currentUser = JSON.parse(localStorage.getItem('currentLogin'))
        }
    })


    //获取localStorage中的数据userdatacategory
    let userDataCategory = JSON.parse(localStorage.getItem('userDataCategory'))
    console.log(userDataCategory);
</script>
</body>
</html>